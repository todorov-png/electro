"use strict";const header=document.querySelector(".header"),burgerMenu=header.querySelector(".menu-burger__header"),headerNav=header.querySelector(".header__nav"),headerItem=header.querySelectorAll(".header__item");null!==header&&(headerRendering(),window.addEventListener("resize",(function(t){headerRendering()})),burgerMenu.onclick=()=>{burgerMenu.classList.toggle("open-menu"),headerNav.classList.toggle("open-menu")});const userData=JSON.parse(localStorage.getItem("data_user"));if(null!==userData)updataUserData();else{const t=header.querySelector(".header__item-basket");null!==t&&(t.style.display="none")}function headerRendering(){header.offsetWidth>960?headerItem[0].style.width=headerItem[2].offsetWidth+"px":headerItem[0].style.width="auto",headerNav.style.top=header.offsetHeight+"px"}function updataUserData(){const t=header.querySelectorAll(".account-login"),e=header.querySelectorAll(".registration"),r=(header.querySelector(".header__item-basket"),JSON.parse(localStorage.getItem("data_basket"))),n=document.querySelector(".counter-basket-text");if(null!==t&&t.forEach(t=>{t.style.display="none"}),null!==e&&e.forEach(t=>{t.textContent="Мой аккаунт",t.setAttribute("href","javascript:void(0);"),t.setAttribute("onclick","goToMyAccount();")}),null!==r&&null!==n){let t=0;r.forEach(()=>{t++}),n.textContent=t}}function goToBasket(){const t=JSON.parse(localStorage.getItem("data_basket")),e=document.querySelector(".header__item-basket");if(null!==t){let r=0;t.forEach(()=>{r++}),r>0&&(document.location.href="http://electroshopkhai.zzz.com.ua/page/basket.html",e.setAttribute("href","http://electroshopkhai.zzz.com.ua/page/basket.html"))}else callPopUp("Ваша корзина пуста!")}function callPopUp(t){const e=document.createElement("div"),r=document.createElement("p"),n=document.querySelector("body"),o=document.querySelector(".pop-up-notification");null!==o&&o.remove(),e.classList.add("pop-up-notification"),r.classList.add("pop-up-notification__text"),r.textContent=t,r.zIndex=1e5,e.append(r),n.insertAdjacentElement("afterBegin",e),smoothTransparencyChange(e,1500,50)}function smoothTransparencyChange(t,e,r){let n=1;setTimeout(()=>{setTimeout((function e(){n<0?t.remove():(t.style.opacity=n,n-=.05,setTimeout(e,r))}),r)},e)}function lowerFooter(){const t=document.documentElement.clientHeight,e=document.querySelector("footer");document.querySelector("body .wrapper").style.minHeight=t-e.offsetHeight+"px"}window.addEventListener("storage",()=>{updataUserData(),createTableBasket()}),document.addEventListener("DOMContentLoaded",(function(){const t=document.querySelector(".form-reg-speed__form");null!==t&&t.addEventListener("submit",e=>{e.preventDefault();const r=new XMLHttpRequest,n=new FormData(t);callPopUp("Проверяю данные, подождите!"),r.open("POST","../php/registration_form.php"),r.send(n),r.addEventListener("load",()=>{200===r.status?JSON.parse(r.response)?(callPopUp("Регистрация прошла успешно!"),t.reset(),localStorage.setItem("data_user",r.response),setTimeout((function(){document.location.href="http://electroshopkhai.zzz.com.ua/"}),1e3)):callPopUp("Пользователь с таким email уже зарегистрирован, перейдите на страницу входа!"):callPopUp("Произошла ошибка, попробуйте еще!")})})})),document.addEventListener("DOMContentLoaded",(function(){const t=document.querySelector(".form-authorization__form");null!==t&&t.addEventListener("submit",e=>{e.preventDefault();const r=new XMLHttpRequest,n=new FormData(t);callPopUp("Проверяю данные, подождите!"),r.open("POST","../php/account_form.php"),r.send(n),r.addEventListener("load",()=>{if(200===r.status){const e=JSON.parse(r.response);e?e.password_status?(callPopUp("Авторизация прошла успешно!"),t.reset(),localStorage.setItem("data_user",r.response),setTimeout((function(){document.location.href="http://electroshopkhai.zzz.com.ua/"}),1e3)):callPopUp("Введён неверный пароль!"):callPopUp("Пользователь с таким email не найден!")}else callPopUp("Произошла ошибка, попробуйте еще!")})})})),lowerFooter(),window.addEventListener("resize",(function(t){lowerFooter()}));class DescriptionMotherboard{constructor(t,e,r,n,o,s,a,c,i,l,d,u,p,h,m,_,S,f,y){this.parent=document.querySelector(t),this.name=e,this.id=r,this.price=n,this.src=o,this.direction=s,this.socket=a,this.bios=c,this.ramFormFactor=i,this.sound=l,this.powerPlug=d,this.formFactor=u,this.chipset=p,this.ramSlot=h,this.ramFrequency=m,this.plugs=_,this.processorPower=S,this.description=f,this.idProduct=y}render(){const t=document.createElement("section"),e=document.querySelector(".product");e&&e.remove(),t.classList.add("product"),t.innerHTML=`\n    <h3 class="product__title">Материнская плата ${this.name}</h3>\n    <nav class="product__nav">\n        <ul class="product__menu">\n            <li><a href="javascript:void(0);" onclick="renderElement('motherboard', 'description', '${this.idProduct}');" class="product-menu__item product-selected-menu">описание</a></li>\n            <li><a href="javascript:void(0);" onclick="renderElement('motherboard', 'characteristic', '${this.idProduct}');" class="product-menu__item">характеристики</a></li>\n            <li><a href="javascript:void(0);" onclick="callPopUp('Раздел находится в разработке!');" class="product-menu__item">отзывы</a></li>\n            <li><a href="javascript:void(0);" onclick="callPopUp('Раздел находится в разработке!');" class="product-menu__item">комплектующие</a></li>\n            <li><a href="javascript:void(0);" onclick="addToBasketProduct('${this.name}', '${this.id}', ${this.price});" class="product-menu__item">купить</a></li>\n            <li><a href="javascript:void(0);" onclick="comparisonProduct('${this.id}');" class="product-menu__item">${createTextBtnComparison(this.id)}</a></li>\n        </ul>\n    </nav>\n    <div class="product-characteristics">\n        <img class="product-characteristics__img" src="${this.src}" alt="">\n        <ul class="product-characteristics__list">\n            <li class="product-characteristics-list__item">По направлению: <span>${this.direction}</span></li>\n            <li class="product-characteristics-list__item">Socket: <span>${this.socket}</span></li>\n            <li class="product-characteristics-list__item">BIOS: <span>${this.bios}</span></li>\n            <li class="product-characteristics-list__item">Форм-фактор ОЗУ: <span>${this.ramFormFactor}</span></li>\n            <li class="product-characteristics-list__item">Звук (каналов): <span>${this.sound}</span></li>\n            <li class="product-characteristics-list__item">Разъем питания: <span>${this.powerPlug}</span></li>\n            <li class="product-characteristics-list__item">Форм-фактор: <span>${this.formFactor}</span></li>\n            <li class="product-characteristics-list__item">Чипсет: <span>${this.chipset}</span></li>\n            <li class="product-characteristics-list__item">Слоты ОЗУ: <span>${this.ramSlot}</span></li>\n            <li class="product-characteristics-list__item">Тактовая частота ОЗУ: <span>${this.ramFrequency}</span></li>\n            <li class="product-characteristics-list__item">Разъемы: <span>${this.plugs}</span></li>\n            <li class="product-characteristics-list__item">Питание процессора: <span>${this.processorPower}</span></li>\n        </ul>\n    </div>\n    <h4 class="product__description-title">описание:</h4>\n    <p class="product__description-text">\n      ${this.description}\n    </p>\n    `,this.parent.append(t)}}class CharacteristicMotherboard{constructor(t,e,r,n,o,s,a,c,i,l,d,u,p,h,m,_,S,f,y,g,b,P,$,v,k,q,w,x,I,E,T,L,N,O){this.parent=document.querySelector(t),this.name=e,this.id=r,this.price=n,this.socket=o,this.bios=s,this.ramFormFactor=a,this.sound=c,this.powerPlug=i,this.formFactor=l,this.chipset=d,this.ramSlot=u,this.ramFrequency=p,this.processorPower=h,this.idProduct=m,this.size=_,this.slotsRAM=S,this.modeRAM=f,this.amountRAM=y,this.supportXMP=g,this.outputHDMI=b,this.outputDVI=P,this.audioChip=$,this.LAN=v,this.quantityLAN=k,this.controllerLAN=q,this.slotsPCIE1x=w,this.slotsPCIE16x=x,this.supportExpress=I,this.supportCrossFire=E,this.USB2=T,this.USB3=L,this.PS2=N,this.coolerPower=O}render(){const t=document.createElement("section"),e=document.querySelector(".product");e&&e.remove(),t.classList.add("product"),t.innerHTML=`\n    <h3 class="product__title">Материнская плата ${this.name}</h3>\n    <nav class="product__nav">\n        <ul class="product__menu">\n            <li><a href="javascript:void(0);" onclick="renderElement('motherboard', 'description', '${this.idProduct}');" class="product-menu__item">описание</a></li>\n            <li><a href="javascript:void(0);" onclick="renderElement('motherboard', 'characteristic', '${this.idProduct}');" class="product-menu__item product-selected-menu">характеристики</a></li>\n            <li><a href="javascript:void(0);" onclick="callPopUp('Раздел находится в разработке!');" class="product-menu__item">отзывы</a></li>\n            <li><a href="javascript:void(0);" onclick="callPopUp('Раздел находится в разработке!');" class="product-menu__item">комплектующие</a></li>\n            <li><a href="javascript:void(0);" onclick="addToBasketProduct('${this.name}', '${this.id}', ${this.price});" class="product-menu__item">купить</a></li>\n            <li><a href="javascript:void(0);" onclick="comparisonProduct('${this.id}');" class="product-menu__item">${createTextBtnComparison(this.id)}</a></li>\n        </ul>\n    </nav>\n    <div class="product__characteristic">\n                <table>\n                    <tbody>\n                        <tr>\n                            <th>Основное</th>\n                        </tr>\n                        <tr>\n                            <td>Socket</td>\n                            <td>${this.socket}</td>\n                        </tr>\n                        <tr>\n                            <td>Форм-фактор</td>\n                            <td>${this.formFactor}</td>\n                        </tr>\n                        <tr>\n                            <td>Размеры (ВхШ)</td>\n                            <td>${this.size}</td>\n                        </tr>\n                    </tbody>\n                    <tbody>\n                        <tr>\n                            <th>Чипсет</th>\n                        </tr>\n                        <tr>\n                            <td>Чипсет</td>\n                            <td>${this.chipset}</td>\n                        </tr>\n                        <tr>\n                            <td>BIOS</td>\n                            <td>${this.bios}</td>\n                        </tr>\n                    </tbody>\n                    <tbody>\n                        <tr>\n                            <th>Оперативная память</th>\n                        </tr>\n                        <tr>\n                            <td>DDR4</td>\n                            <td>${this.slotsRAM}</td>\n                        </tr>\n                        <tr>\n                            <td>Форм-фактор слота для памяти</td>\n                            <td>${this.ramFormFactor}</td>\n                        </tr>\n                        <tr>\n                            <td>Режим работы</td>\n                            <td>${this.modeRAM}</td>\n                        </tr>\n                        <tr>\n                            <td>Максимальная тактовая частота</td>\n                            <td>${this.ramFrequency}</td>\n                        </tr>\n                        <tr>\n                            <td>Максимальный объем памяти</td>\n                            <td>${this.amountRAM}</td>\n                        </tr>\n                        <tr>\n                            <td>Поддержка XMP</td>\n                            <td>${this.supportXMP}</td>\n                        </tr>\n                    </tbody>\n                    <tbody>\n                        <tr>\n                            <th>Видеовыходы</th>\n                        </tr>\n                        <tr>\n                            <td>Выход HDMI</td>\n                            <td>${this.outputHDMI}</td>\n                        </tr>\n                        <tr>\n                            <td>Выход DVI</td>\n                            <td>${this.outputDVI}</td>\n                        </tr>\n                    </tbody>\n                    <tbody>\n                        <tr>\n                            <th>Интегрированное аудио</th>\n                        </tr>\n                        <tr>\n                            <td>Аудиочип</td>\n                            <td>${this.audioChip}</td>\n                        </tr>\n                        <tr>\n                            <td>Звук (каналов)</td>\n                            <td>${this.sound}</td>\n                        </tr>\n                    </tbody>\n                </table>\n                <table>\n                    <tbody>\n                        <tr>\n                            <th>Сетевые интерфейсы</th>\n                        </tr>\n                        <tr>\n                            <td>LAN (RJ-45)</td>\n                            <td>${this.LAN}</td>\n                        </tr>\n                        <tr>\n                            <td>Кол-во LAN-портов</td>\n                            <td>${this.quantityLAN}</td>\n                        </tr>\n                        <tr>\n                            <td>LAN контроллер</td>\n                            <td>${this.controllerLAN}</td>\n                        </tr>\n                    </tbody>\n                    <tbody>\n                        <tr>\n                            <th>Слоты плат расширения</th>\n                        </tr>\n                        <tr>\n                            <td>Слотов PCI-E 1x</td>\n                            <td>${this.slotsPCIE1x}</td>\n                        </tr>\n                        <tr>\n                            <td>Слотов PCI-E 16x</td>\n                            <td>${this.slotsPCIE16x}</td>\n                        </tr>\n                        <tr>\n                            <td>Поддержка PCI Express</td>\n                            <td>${this.supportExpress}</td>\n                        </tr>\n                        <tr>\n                            <td>Поддержка CrossFire (AMD)</td>\n                            <td>${this.supportCrossFire}</td>\n                        </tr>\n                    </tbody>\n                    <tbody>\n                        <tr>\n                            <th>Разъемы на задней панели</th>\n                        </tr>\n                        <tr>\n                            <td>USB 2.0</td>\n                            <td>${this.USB2}</td>\n                        </tr>\n                        <tr>\n                            <td>USB 3.2</td>\n                            <td>${this.USB3}</td>\n                        </tr>\n                        <tr>\n                            <td>PS/2</td>\n                            <td>${this.PS2}</td>\n                        </tr>\n                    </tbody>\n                    <tbody>\n                        <tr>\n                            <th>Разъемы питания</th>\n                        </tr>\n                        <tr>\n                            <td>Основной разъем питания</td>\n                            <td>${this.powerPlug}</td>\n                        </tr>\n                        <tr>\n                            <td>Питание процессора</td>\n                            <td>${this.processorPower}</td>\n                        </tr>\n                        <tr>\n                            <td>Разъемов питания кулеров</td>\n                            <td>${this.coolerPower}</td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n    `,this.parent.append(t)}}async function renderElement(t,e,r){const n=JSON.parse(await getDataBD("../php/get_product.php",JSON.stringify({id:r})));if(console.log(r),console.log(n),"motherboard"===t){const{parentSelector:t,name:o,id:s,price:a,src:c,direction:i,socket:l,bios:d,ramFormFactor:u,sound:p,powerPlug:h,formFactor:m,chipset:_,ramSlot:S,ramFrequency:f,plugs:y,processorPower:g,description:b,size:P,slotsRAM:$,modeRAM:v,amountRAM:k,supportXMP:q,outputHDMI:w,outputDVI:x,audioChip:I,LAN:E,quantityLAN:T,controllerLAN:L,slotsPCIE1x:N,slotsPCIE16x:O,supportExpress:C,supportCrossFire:M,USB2:U,USB3:A,PS2:B,coolerPower:J}=n;"description"===e?(console.log("description"),new DescriptionMotherboard(t,o,s,a,c,i,l,d,u,p,h,m,_,S,f,y,g,b,r).render()):"characteristic"===e&&(console.log("characteristic"),new CharacteristicMotherboard(t,o,s,a,l,d,u,p,h,m,_,S,f,g,r,P,$,v,k,q,w,x,I,E,T,L,N,O,C,M,U,A,B,J).render())}}function comparisonProduct(t){let e=JSON.parse(localStorage.getItem("data_comparison")),r=document.querySelectorAll(".product-menu__item");if(null===e||0===e.length)e=[],e.push(t),r[r.length-1].innerText="удалить из сравнения";else{const n=e.indexOf(t);n>-1?(e.splice(n,1),r[r.length-1].innerText="добавить к сравнению"):(e.push(t),r[r.length-1].innerText="удалить из сравнения")}localStorage.setItem("data_comparison",JSON.stringify(e))}function createTextBtnComparison(t){let e=JSON.parse(localStorage.getItem("data_comparison"));if(null===e||0===e.length)return"добавить к сравнению";return e.indexOf(t)>-1?"удалить из сравнения":"добавить к сравнению"}function deleteProduct(t){const e=document.querySelector(".table-product").querySelector(`[data-id="${t}"]`),r=JSON.parse(localStorage.getItem("data_basket"));if(e.remove(),1!==r.length){const e=r.filter(e=>e.id!==t);costBasket(e),localStorage.setItem("data_basket",JSON.stringify(e))}else clearBasket()}function plusProductCounter(t){const e=document.querySelector(".table-product"),r=JSON.parse(localStorage.getItem("data_basket")),n=e.querySelector(`[data-id="${t}"]`),o=n.querySelector(".table-product__row-price"),s=n.querySelector(".table-product__row-amount").querySelector("span"),a=n.querySelector(".table-product__row-sum"),c=parseInt(o.innerText);let i=parseInt(s.innerText);i++,i>19&&(i=20,callPopUp("Максимальное количество товара 20!")),s.innerText=String(i),a.innerText=String(i*c),r.forEach(e=>{e.id===t&&(e.counter=i,e.sum=i*c)}),costBasket(r),localStorage.setItem("data_basket",JSON.stringify(r))}function minusProductCounter(t){const e=document.querySelector(".table-product"),r=JSON.parse(localStorage.getItem("data_basket")),n=e.querySelector(`[data-id="${t}"]`),o=n.querySelector(".table-product__row-price"),s=n.querySelector(".table-product__row-amount").querySelector("span"),a=n.querySelector(".table-product__row-sum"),c=parseInt(o.innerText);let i=parseInt(s.innerText);i--,i<1&&(i=1,callPopUp("Минимальное количество товара 1!")),s.innerText=String(i),a.innerText=String(i*c),r.forEach(e=>{e.id===t&&(e.counter=i,e.sum=i*c)}),costBasket(r),localStorage.setItem("data_basket",JSON.stringify(r))}function createTableBasket(){const t=document.querySelector(".basket"),e=JSON.parse(localStorage.getItem("data_basket"));if(null!==t&&null!==e&&e.length>0){let r=document.querySelector(".table-product"),n=document.querySelector(".form-product"),o=' <tr class="table-product__row">\n                            <th>Товар</th>\n                            <th>Цена</th>\n                            <th>Количество</th>\n                            <th>Сумма</th>\n                          </tr>',s='<p class="form-product__text">\n                          Сумма заказа: \n                          <span class="form-product__sum"></span>&nbsp;грн.\n                        </p>\n                        <button>Заказать</button>';e.forEach(t=>{o+=` <tr class="table-product__row" data-id="${t.id}">\n                      <td class="table-product__row-name">${t.name}</td>\n                      <td class="table-product__row-price">${t.price}</td>\n                      <td class="table-product__row-amount-wraper">\n                        <div class="table-product__row-amount">\n                          <a href="javascript:void(0);" onclick="minusProductCounter('${t.id}');"><i class="far fa-minus-square"></i></a>\n                          <span>${t.counter}</span>\n                          <a href="javascript:void(0);" onclick="plusProductCounter('${t.id}');"><i class="far fa-plus-square"></i></a>\n                        </div>\n                        </td>\n                      <td class="table-product__row-sum">${t.sum}</td>\n                      <td class="table-product__row-close">\n                        <a href="javascript:void(0);" onclick="deleteProduct('${t.id}');"><i class="fas fa-times"></i></a>\n                      </td>\n                    </tr>`}),null===r&&(r=document.createElement("table")),null===n&&(n=document.createElement("form")),r.classList.add("table-product"),n.classList.add("form-product"),r.innerHTML=o,n.innerHTML=s,t.append(r),t.append(n),document.querySelector(".basket__heading-text").innerText="Корзина",costBasket(e)}else null!==document.querySelector(".basket__heading-text")&&(document.querySelector(".basket__heading-text").innerText="Корзина пуста")}function costBasket(t){const e=document.querySelector(".form-product__sum");let r=0;t.forEach(t=>{r+=t.sum}),null!==e&&(e.innerText=String(r))}function clearBasket(){const t=document.querySelector(".table-product"),e=document.querySelector(".form-product");null!==e&&null!==t&&(t.remove(),e.remove(),localStorage.removeItem("data_basket"),document.querySelector(".basket__heading-text").innerText="Корзина пуста",callPopUp("Корзина пуста!"))}function addToBasketProduct(t,e,r){const n=JSON.parse(localStorage.getItem("data_user")),o=document.querySelector(".counter-basket-text");if(null!==n){let n=JSON.parse(localStorage.getItem("data_basket"));if(null===n)n=[{id:e,name:t,price:r,counter:1,sum:r}],localStorage.setItem("data_basket",JSON.stringify(n)),o.textContent=parseInt(o.textContent)+1,callPopUp("Товар добавлен в корзину!");else{let s=0;n.forEach(t=>{t.id===e&&s++}),0===s?(n.push({id:e,name:t,price:r,counter:1,sum:r}),localStorage.setItem("data_basket",JSON.stringify(n)),o.textContent=parseInt(o.textContent)+1,callPopUp("Товар добавлен в корзину!")):callPopUp("Вы уже добавили этот товар в корзину!")}}else callPopUp("Для добавления в корзину необходимо авторизоваться!")}async function getDataBD(t,e){const r=await fetch(t,{method:"POST",body:e,headers:{"Content-Type":"application/json;charset=utf-8"}});return await r.json()}function goToMyAccount(){const t=JSON.parse(localStorage.getItem("data_user")),e=new XMLHttpRequest;null!==t?(e.open("POST","../php/history_of_orders.php"),e.setRequestHeader("Content-type","application/json; charset=utf-8"),e.send(JSON.stringify(t.email)),e.addEventListener("load",()=>{if(200===e.status){const t=JSON.parse(e.response);t&&localStorage.setItem("data_history_of_orders",JSON.stringify(t)),document.location.href="http://electroshopkhai.zzz.com.ua/page/my_account.html"}else callPopUp("Произошла ошибка, попробуйте позже!")})):callPopUp("Авторизуйтесь для просмотра аккаунта!")}function signOut(){localStorage.clear(),document.location.href="http://electroshopkhai.zzz.com.ua"}function createTableHistory(){const t=document.querySelector(".account"),e=JSON.parse(localStorage.getItem("data_history_of_orders"));if(null!==t&&null!==e&&e.length>0){const r=document.querySelectorAll(".table-history-orders");null!==r&&r.forEach(t=>{t.remove()}),document.querySelector(".account__heading-text").innerText="История заказов",e.forEach(e=>{const r=document.createElement("table");let n=0,o=`<thead>\n                              <tr>\n                              <td class="table-history-orders__header">Заказ №${e[0]}</td>\n                              </tr>\n                            </thead>\n                            <tr class="table-history-orders__row">\n                              <th>Товар</th>\n                              <th>Цена</th>\n                              <th>Количество</th>\n                            </tr>`;e[1].forEach(t=>{n+=t.price*t.counter,o+=`<tr class="table-history-orders__row" data-id="${t.id}">\n                            <td class="table-history-orders__row-name">${t.name}</td>\n                            <td class="table-history-orders__row-price">${t.price}</td>\n                            <td class="table-history-orders__row-amount">${t.counter}</td>\n                          </tr>`}),o+=`<tr class="table-history-orders__row">\n                          <td class="table-history-orders__row-sum">Сумма заказа: ${n} грн.</td>\n                        </tr>`,r.classList.add("table-history-orders"),r.innerHTML=o,t.append(r)})}else null!==document.querySelector(".account__heading-text")&&(document.querySelector(".account__heading-text").innerText="История заказов пуста")}createTableBasket(),document.addEventListener("DOMContentLoaded",(function(){const t=document.querySelector(".form-product");null!==t&&t.addEventListener("submit",t=>{t.preventDefault();let e={},r="[";const n=JSON.parse(localStorage.getItem("data_basket")),o=JSON.parse(localStorage.getItem("data_user")),s=new XMLHttpRequest;null!==o&&null!==n&&(n.forEach(t=>{r+=`{"id":"${t.id}","name":"${t.name}","price":"${t.price}","counter":"${t.counter}"},`}),r=r.substring(0,r.length-1)+"]",e.email=o.email,e.details=JSON.parse(r)),s.open("POST","../php/basket.php"),s.setRequestHeader("Content-type","application/json; charset=utf-8"),s.send(JSON.stringify(e)),s.addEventListener("load",()=>{200===s.status?(clearBasket(),callPopUp("Заказ принят, ожидайте, мы с вами свяжемся!")):callPopUp("Произошла ошибка, попробуйте еще!")})})})),createTableHistory();